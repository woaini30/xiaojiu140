import{_ as w,r as y,A as V,c as k,a as s,b as o,w as t,f as r,u as f,k as h,m as z,g as _,D as c,p as N}from"./index-Dku3J1xH.js";import{r as U}from"./request-C4SRpGQ-.js";const S={class:"login-container"},T={class:"login-box"},q={style:{padding:"50px 30px","background-color":"#f5f7ff","box-shadow":"0 0 10px rgba(0,0,0.1)"}},B={style:{"margin-bottom":"20px"}},C={__name:"Login",setup(I){const l=y({form:{role:"STU"},rules:{username:[{required:!0,message:"请输入账号",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}}),d=V(),g=()=>{d.value.validate(i=>{i&&U.post("/login",l.form).then(e=>{e.code==="200"?(localStorage.setItem("demo-user",JSON.stringify(e.data)),c.success("登录成功"),setTimeout(()=>{location.href="/manager/home"},500)):c.error(e.msg)})})};return(i,e)=>{const m=r("el-icon"),u=r("el-input"),n=r("el-form-item"),p=r("el-option"),x=r("el-select"),b=r("el-button"),v=r("el-form");return N(),k("div",S,[s("div",T,[s("div",q,[o(v,{ref_key:"formRef",ref:d,rules:l.rules,model:l.form,style:{width:"400px"}},{default:t(()=>[e[4]||(e[4]=s("div",{style:{"margin-bottom":"20px","font-size":"24px","text-align":"center",color:"darkblue","font-weight":"bold"}}," 欢迎登录后台管理系统",-1)),o(n,{prop:"username"},{default:t(()=>[o(u,{size:"large",modelValue:l.form.username,"onUpdate:modelValue":e[0]||(e[0]=a=>l.form.username=a),placeholder:"请输入账号"},{prefix:t(()=>[o(m,null,{default:t(()=>[o(f(h))]),_:1})]),_:1},8,["modelValue"])]),_:1}),o(n,{prop:"password"},{default:t(()=>[o(u,{"show-password":"",size:"large",modelValue:l.form.password,"onUpdate:modelValue":e[1]||(e[1]=a=>l.form.password=a),placeholder:"请输入密码"},{prefix:t(()=>[o(m,null,{default:t(()=>[o(f(z))]),_:1})]),_:1},8,["modelValue"])]),_:1}),o(n,{prop:"role"},{default:t(()=>[o(x,{modelValue:l.form.role,"onUpdate:modelValue":e[2]||(e[2]=a=>l.form.role=a),style:{width:"100%"},size:"large"},{default:t(()=>[o(p,{value:"ADMIN",label:"管理员"}),o(p,{value:"STU",label:"学生"})]),_:1},8,["modelValue"])]),_:1}),s("div",B,[o(b,{onClick:g,size:"large",style:{width:"100%"},type:"primary"},{default:t(()=>[...e[3]||(e[3]=[_("登录",-1)])]),_:1})]),e[5]||(e[5]=s("div",{style:{"text-align":"right"}},[_("还没有账号？请 "),s("a",{style:{color:"#8b0020","text-decoration":"none"},href:"/register"},"注册")],-1))]),_:1},8,["rules","model"])])])])}}},E=w(C,[["__scopeId","data-v-cdb3bd62"]]);export{E as default};
